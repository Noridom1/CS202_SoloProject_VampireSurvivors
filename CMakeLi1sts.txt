cmake_minimum_required(VERSION 3.15)

# Project name and C++ standard
project(VampireSurvivors LANGUAGES CXX)
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# Set SFML directory (change according to your setup)
# set(SFML_DIR "D:/SFML library/SFML-2.6.1-windows-vc17-64-bit/SFML-2.6.1/lib/cmake/SFML")
set(CMAKE_PREFIX_PATH "D:/SFML library/SFML-2.6.1-windows-vc17-64-bit/SFML-2.6.1")

include_directories(include)
# Find SFML package
find_package(SFML 2.6 COMPONENTS graphics audio REQUIRED)

# Include the source files
add_executable(VampireSurvivors src/main.cpp)

target_link_libraries(VampireSurvivors sfml-graphics sfml-audio)

# For Windows: Include the SFML DLLs in the output folder automatically
if (WIN32)
    # List of DLLs to copy
    set(SFML_DLLS
        "D:/SFML library/SFML-2.6.1-windows-vc17-64-bit/SFML-2.6.1/bin/sfml-graphics-d-2.dll"
        "D:/SFML library/SFML-2.6.1-windows-vc17-64-bit/SFML-2.6.1/bin/sfml-audio-d-2.dll"
        "D:/SFML library/SFML-2.6.1-windows-vc17-64-bit/SFML-2.6.1/bin/sfml-window-d-2.dll"
        "D:/SFML library/SFML-2.6.1-windows-vc17-64-bit/SFML-2.6.1/bin/sfml-system-d-2.dll"
        # Add other DLLs as needed
    )

    foreach(DLL ${SFML_DLLS})
        add_custom_command(TARGET VampireSurvivors POST_BUILD
            COMMAND ${CMAKE_COMMAND} -E copy_if_different
            "${DLL}"
            "$<TARGET_FILE_DIR:VampireSurvivors>"
        )
    endforeach()
endif()
